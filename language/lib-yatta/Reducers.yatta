module Reducers exports to_seq, to_set, to_dict, reduce as


to_seq = (\-> [], \acc val-> acc |- val, identity)


to_set = (\-> Set::empty, \acc val-> acc ++ val, identity)


to_dict = (\-> Dict::empty, \acc val-> acc ++ val, identity)


# reduce dispatcher, based on collection type
reduce val transducer
  | Types::is_seq(val) = Seq::reduce val transducer
  | Types::is_set(val) = Set::reduce val transducer
  | Types::is_dict(val) = Dict::reduce val transducer
